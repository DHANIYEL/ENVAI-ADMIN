<div class="container p-10 overflow-y-auto h-screen pb-32">
  <nav class="text-2xl font-semibold mb-6">Edit Project</nav>

  <form
    #editProjectForm="ngForm"
    class="flex flex-col gap-5"
    (ngSubmit)="updateProject()"
  >
    <!-- Title -->
    <div class="form-group">
      <label for="title" class="block text-sm font-medium text-gray-700">Title:</label>
      <input
        type="text"
        id="title"
        name="title"
        class="mt-1 block border w-full rounded-md px-3 py-2 border-gray-300 shadow-sm"
        placeholder="Enter project title"
        (ngModel)="projectForm.value.title"
        required
      />
    </div>

    <!-- Homepage Small Description -->
    <div class="form-group">
      <label for="smallDescription" class="block text-sm font-medium text-gray-700">Homepage Small Description:</label>
      <textarea
        id="smallDescription"
        name="smallDescription"
        rows="3"
        class="mt-1 block border w-full rounded-md px-3 py-2 border-gray-300 shadow-sm"
        placeholder="Enter a brief description for the homepage"
        (ngModel)="projectForm.value.smallDescription"
        required
      ></textarea>
    </div>

    <!-- Detailed Description -->
    <div class="form-group">
      <label for="detailedDescription" class="block text-sm font-medium text-gray-700">Detailed Description:</label>
      <textarea
        id="detailedDescription"
        name="detailedDescription"
        rows="6"
        class="mt-1 block border w-full rounded-md px-3 py-2 border-gray-300 shadow-sm"
        placeholder="Provide a detailed description"
        (ngModel)="projectForm.value.detailedDescription"
        required
      ></textarea>
    </div>

    <!-- Project Images -->
    <div class="form-group">
      <label for="projectImages" class="block text-sm font-medium text-gray-700">Project Images:</label>
      <div
        class="mt-1 h-40 w-full rounded-md px-3 py-2 border-gray-300 border-2 border-dotted shadow-sm flex justify-center items-center"
        (click)="fileInput.click()"
        style="cursor: pointer;"
      >
        <input
          type="file"
          id="projectImages"
          name="projectImages"
          #fileInput
          class="hidden"
          multiple
          (change)="onFileChange($event, 'project')"
          accept="image/*"
        />
        <p class="text-center text-sm text-gray-500">Drag & Drop your images here, or click to select files</p>
      </div>
      <div class="flex flex-wrap mt-2 gap-2">
        <img *ngFor="let image of projectImages" [src]="image" class="w-16 h-16 rounded-md" />
      </div>
    </div>

    <!-- Icon Images -->
    <div class="form-group">
      <label for="iconImages" class="block text-sm font-medium text-gray-700">Icon Images:</label>
      <div
        *ngIf="!selectedIconImage"
        class="mt-1 h-40 w-full rounded-md px-3 py-2 border-gray-300 border-2 border-dotted shadow-sm flex justify-center items-center"
        (drop)="onDrop($event, 'icon')"
        (dragover)="onDragOver($event)"
        (dragenter)="onDragEnter($event, 'icon')"
        (dragleave)="onDragLeave($event, 'icon')"
        (click)="iconFileInput.click()"
        style="cursor: pointer"
      >
        <input
          type="file"
          id="iconImages"
          name="iconImages"
          #iconFileInput
          class="hidden"
          multiple
          (change)="onFileChange($event, 'icon')"
          accept="image/*"
        />
        <p class="text-center text-sm text-gray-500">Drag & Drop your icon images here, or click to select files</p>
      </div>
      <div *ngIf="selectedIconImage" class="mt-1 h-40 w-40 mx-auto relative">
        <img
          [src]="selectedIconImage"
          class="h-full w-full object-cover rounded-md"
          alt="Selected icon image"
        />
        <button
          (click)="removeIconImage()"
          class="absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600"
        >
          <span class="text-sm">X</span>
        </button>
      </div>
    </div>

    <!-- Project URLs and Icon URLs Section -->
    <div class="form-group flex gap-4">
      <div class="flex-1">
        <label class="block text-sm font-medium text-gray-700">Icon URL:</label>
        <input
          type="url"
          class="flex-1 block border rounded-md w-full mt-2 px-3 py-2 border-gray-300 shadow-sm"
          placeholder="Icon URL"
          (ngModel)="iconUrl"
          name="iconUrl"
          required
        />
      </div>

      <div class="flex-1">
        <label class="block text-sm font-medium text-gray-700">Project URL:</label>
        <input
          type="url"
          class="flex-1 block border rounded-md w-full mt-2 px-3 py-2 border-gray-300 shadow-sm"
          placeholder="Project URL"
          (ngModel)="projectUrl"
          name="projectUrl"
          required
        />
      </div>
    </div>

    <!-- Submit Button -->
    <div class="flex justify-end">
      <button
        type="submit"
        class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"
        [disabled]="!editProjectForm.valid"
      >
        Update Project
      </button>
    </div>
  </form>
</div>
